<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Editing {{fname}}</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <style>
      body {
        font-family: sans-serif;
        margin: 0px;
        min-height: 100;
        display: flex;
        flex-direction: column;
      }
      #editors {
        flex: 1;
        position: relative;
        display: flex;
      }
      #editor {
        flex: 1;
      }
      #blocklyDiv {
        position: absolute;
        z-index: 1000;
        visibility: hidden;
      }
      #header, #toolbar {
        flex: 0;
        padding: 5px;
      }
    </style>
  </head>
<body>
<div id="header">
<b>Editing {{fname}}</b>
<span id="status">
{% if not can_save %} (not yours) {% else %} (saved) {% endif %}
</span>
- <a href="/edit/">back</a>
</div>
<div id="toolbar">
  <input type='button' {% if not can_save %} disabled {% endif %} id="saveButton" value='Save'/>
  <input type='button' id="cleanButton" value='Clean'/>
  <input type='button' id="toggleBlocksButton" value='Toggle Blocks'/>
</div>
<div id="editors">
  <div id="editor" data-file-url="{{file_url}}"
     {% if can_save %} data-save-url="{{save_url}}" {% else %} data-read-only="true" {% endif %}>
  </div>

  <div id="blocklyDiv"></div>
</div>

<script src="/static/bundle.js"></script>
<script src="/static/customblocks.js"></script>
<script src="/static/customblocks-javascript-generator.js"></script>
<!--script src="/static/fr_1.js"></script-->
<script src="/static/fr_2.js"></script>

</body>
</html>
